function ElapsedTime(e,i,t,n){this.days=e,this.hours=i,this.minutes=t,this.seconds=n,this.toString=function(){return t+" m, "+n+" s"}}function Position(e){this.position=e,this.startTime=null,this.endTime=null}function Player(e,t){this.name=e,this.img=t,this.positions=[],this.addPosition=function(e){this.positions[this.positions.length]=e},this.endCurrentPosition=function(){this.positions.length>0&&(position=this.positions[this.positions.length-1],position.endTime=new Date)},this.getStatistic=function(){if(this.positions.length>0){var e="";for(i=0;i<this.positions.length;i++){var t=getElapsedTime(this.positions[i].startTime,this.positions[i].endTime);e+=this.positions[i].position+" -> time: "+t+"<br/>"}return e}return""},this.viewPositions=function(){if(this.positions.length>0){var e="[";for(i=0;i<this.positions.length;i++)e+=this.positions[i].position+",";return e=e.substring(0,e.length-1),e+="]"}return""},this.toString=function(){if(this.positions.length>0){position=this.positions[this.positions.length-1];var i=e;if(i+=" ["+position.position+"]",null!=position.startTime){var t=getElapsedTime(position.startTime,new Date);i+=' <div class="player-elapsed-time">'+t.toString()+"</div>"}return i}return e}}function init(){startTime=null,activePlayers=new Object,benchPlayers=new Object,currentPlayer=null,$("#players li").remove(),$("#positions li").remove(),$("#positions").hide(),$("#playeronbench").hide(),$("#gameover").hide(),$("#startgame").hide(),$("#init").hide(),$("#time").hide(),$("#lockscreen").hide(),$("#back").hide();for(var e in players){var i=e.charAt(0);$("#players").append('<li id="'+e+'" onClick="addPlayer(\''+e+'\')" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right ui-icon-arrow-r"><div class="name-plate">'+i+'</div><img height="44" width="30" src="img/'+players[e]+'"> '+e+"</a></li>")}for(var t in positions)$("#positions .select-position-container").append('<li id="'+t+'" onClick="setPosition(\''+t+'\')" class="ui-btn">'+t+" - "+positions[t]+"</a></li>")}function popRemovePlayer(e){player=$("#"+e),setTimeout(function(){player.addClass("animated bounceOutRight"),player.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){console.log("Animation ends!"),player.remove()})},300)}function addPlayer(e){currentPlayer=new Player(e,players[e]),$("#positions").show().find(".select-position-container").addClass("animate fadeInUp"),$("#teamcompletebutton").hide()}function setPosition(e){"BENCH"!=e?($("#"+e).remove(),console.log(currentPlayer),popRemovePlayer(currentPlayer.name),activePlayers[currentPlayer.name]=currentPlayer,activePlayers[currentPlayer.name].addPosition(new Position(e))):($("#playeronbench").append('<li id="b_'+currentPlayer.name+'" onClick="doSwitchPlayer(\''+currentPlayer.name+'\')" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right ui-icon-arrow-r"><img height="44" width="30" src="img/'+currentPlayer.img+'"> '+currentPlayer.name+" "+currentPlayer.viewPositions()+"</a></li>"),benchPlayers[currentPlayer.name]=currentPlayer,console.log(currentPlayer),popRemovePlayer(currentPlayer.name)),$("#players").show(),$("#positions").hide(),$("#teamcompletebutton").show()}function changePlayer(e){currentPlayer=activePlayers[e],$("#players").hide(),$("#playeronbench").show(),$("#gameover").hide(),$("#back").show()}function doSwitchPlayer(e){var i=benchPlayers[e],t=new Position(currentPlayer.positions[currentPlayer.positions.length-1].position);t.startTime=new Date,i.addPosition(t),$("#playeronbench").append('<li id="b_'+currentPlayer.name+'" onClick="doSwitchPlayer(\''+currentPlayer.name+'\')" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right ui-icon-arrow-r"><img height="44" width="30" src="img/'+currentPlayer.img+'"> '+currentPlayer.name+" "+currentPlayer.viewPositions()+"</a></li>"),activePlayers[e]=i,currentPlayer.endCurrentPosition(),delete activePlayers[currentPlayer.name],delete benchPlayers[e],benchPlayers[currentPlayer.name]=currentPlayer,$("#b_"+e).remove(),$("#players").show(),$("#playeronbench").hide(),$("#gameover").show(),$("#back").hide()}function back(){$("#players").show(),$("#playeronbench").hide(),$("#gameover").show(),$("#back").hide()}function unlock(){$("#lockscreen").hide(),$("#gameover").show()}function lock(){$("#lockscreen").show(),$("#gameover").hide()}function teamComplete(){$("#players li").remove(),$("#teamcompletebutton").hide(),$("#startgame").show(),updateActiveView()}function startGame(){startTime=new Date,$("#time").show(),$("#startgame").hide();var e=new Date;for(var i in activePlayers)activePlayers[i].positions[activePlayers[i].positions.length-1].startTime=e;loopId=setInterval(updateActiveView,1e3),$("#gameover").show(),lock()}function updateActiveView(){$("#players li").remove();for(var e in activePlayers)$("#players").append('<li id="'+activePlayers[e].name+'" onClick="changePlayer(\''+activePlayers[e].name+'\')" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right ui-icon-arrow-r"><img height="44" width="30" src="img/'+players[e]+'"> '+activePlayers[e].toString()+"</a></li>");null!=startTime&&(eTime=getElapsedTime(startTime,new Date),eMinutes=eTime.minutes,eSeconds=eTime.seconds,eSeconds=eSeconds<10?"0"+eSeconds:eSeconds,eMinutes=eMinutes<10?"0"+eMinutes:eMinutes,$("#time").html('<div class="elapsed_time"><div id="elapsed_seconds">'+eMinutes+'</div> <div class="divider">:</div> <div id="elapsed_minutes">'+eSeconds+"</div> </div>"))}function gameOver(){$("#gameover").hide(),clearInterval(loopId),$("#players li").remove();for(var e in activePlayers){var i=activePlayers[e];i.endCurrentPosition(),$("#players").append('<li id="'+i.name+'" onClick="" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right"><b><u>'+i.name+"</u></b><br/> "+i.getStatistic()+"</a></li>")}for(var e in benchPlayers){var i=benchPlayers[e];$("#players").append('<li id="'+i.name+'" onClick="" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right"><b><u>'+i.name+"</u></b><br/> "+i.getStatistic()+"</a></li>")}$("#init").show()}function getElapsedTime(e,i){var t=i-e;t/=1e3;var n=Math.round(t%60);t=Math.floor(t/60);var a=Math.round(t%60);t=Math.floor(t/60);var s=Math.round(t%24);t=Math.floor(t/24);var r=t;return new ElapsedTime(r,s,a,n)}var players=new Object;players.Adrian="IMG_0172.jpg",players.Albin="IMG_0176.jpg",players.Christoffer="IMG_0178.jpg",players.Dante="IMG_0174.jpg",players.Dylan="IMG_0175.jpg",players.Emil="IMG_0166.jpg",players.Ivar="IMG_0169.jpg",players.Jacob="IMG_0167.jpg",players.Leo="IMG_0173.jpg",players.Linus="IMG_0166.jpg",players.Malte="IMG_0177.jpg",players.Pontus="IMG_0168.jpg",players.Samuel="IMG_0171.jpg",players.Sebastian="IMG_0166.jpg",players.Tor="IMG_0170.jpg",players.Viggo="IMG_0179.jpg",players.Viktor="IMG_0180.jpg",players["Åke"]="IMG_0166.jpg";var positions=new Object;positions.F="Forward",positions.VM="Vänster Mittfältare",positions.HM="Höger Mittfältare",positions.B="Back",positions.BENCH="Avbytarbänk";var activePlayers=new Object,benchPlayers=new Object,currentPlayer=null,loopId,startTime;$.fn.extend({animateCss:function(e){var i="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";this.addClass("animated "+e).one(i,function(){$(this).removeClass("animated "+e)})}}),$(document).ready(function($){$("#positions .cancel").on("click",function(){console.log("test"),$("#positions").hide()}),$("#lock-screen").on("click",function(){lock(),console.log("test"),$(this).toggleClass("active")})});