function ElapsedTime(i,e,t,n){this.days=i,this.hours=e,this.minutes=t,this.seconds=n,this.toString=function(){return t+" m, "+n+" s"}}function Position(i){this.position=i,this.startTime=null,this.endTime=null}function Player(e,t){this.name=e,this.img=t,this.positions=[],this.addPosition=function(i){this.positions[this.positions.length]=i},this.endCurrentPosition=function(){this.positions.length>0&&(position=this.positions[this.positions.length-1],position.endTime=new Date)},this.getStatistic=function(){if(this.positions.length>0){var e="";for(i=0;i<this.positions.length;i++){var t=getElapsedTime(this.positions[i].startTime,this.positions[i].endTime);e+=this.positions[i].position+" -> time: "+t+"<br/>"}return e}return""},this.viewPositions=function(){if(this.positions.length>0){var e="[";for(i=0;i<this.positions.length;i++)e+=this.positions[i].position+",";return e=e.substring(0,e.length-1),e+="]"}return""},this.toString=function(){if(this.positions.length>0){position=this.positions[this.positions.length-1];var i=e;if(i+=" ["+position.position+"]",null!=position.startTime){var t=getElapsedTime(position.startTime,new Date);i+=" - "+t.toString()}return i}return e}}function init(){startTime=null,activePlayers=new Object,benchPlayers=new Object,currentPlayer=null,$("#players li").remove(),$("#positions li").remove(),$("#positions").hide(),$("#playeronbench").hide(),$("#gameover").hide(),$("#startgame").hide(),$("#init").hide(),$("#time").hide(),$("#lockscreen").hide(),$("#back").hide();for(var i in players){var e=i.charAt(0);$("#players").append('<li id="'+i+'" onClick="addPlayer(\''+i+'\')" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right ui-icon-arrow-r"><div class="name-plate">'+e+'</div><img height="44" width="30" src="img/'+players[i]+'"> '+i+"</a></li>")}for(var t in positions)$("#positions .select-position-container").append('<li id="'+t+'" onClick="setPosition(\''+t+'\')" class="ui-btn">'+t+" - "+positions[t]+"</a></li>")}function addPlayer(i){$("#"+i).remove(),currentPlayer=new Player(i,players[i]),$("#positions").show(),$("#teamcompletebutton").hide()}function setPosition(i){"BENCH"!=i?($("#"+i).remove(),activePlayers[currentPlayer.name]=currentPlayer,activePlayers[currentPlayer.name].addPosition(new Position(i))):($("#playeronbench").append('<li id="b_'+currentPlayer.name+'" onClick="doSwitchPlayer(\''+currentPlayer.name+'\')" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right ui-icon-arrow-r"><img height="44" width="30" src="img/'+currentPlayer.img+'"> '+currentPlayer.name+" "+currentPlayer.viewPositions()+"</a></li>"),benchPlayers[currentPlayer.name]=currentPlayer),$("#players").show(),$("#positions").hide(),$("#teamcompletebutton").show()}function changePlayer(i){currentPlayer=activePlayers[i],$("#players").hide(),$("#playeronbench").show(),$("#gameover").hide(),$("#back").show()}function doSwitchPlayer(i){var e=benchPlayers[i],t=new Position(currentPlayer.positions[currentPlayer.positions.length-1].position);t.startTime=new Date,e.addPosition(t),$("#playeronbench").append('<li id="b_'+currentPlayer.name+'" onClick="doSwitchPlayer(\''+currentPlayer.name+'\')" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right ui-icon-arrow-r"><img height="44" width="30" src="img/'+currentPlayer.img+'"> '+currentPlayer.name+" "+currentPlayer.viewPositions()+"</a></li>"),activePlayers[i]=e,currentPlayer.endCurrentPosition(),delete activePlayers[currentPlayer.name],delete benchPlayers[i],benchPlayers[currentPlayer.name]=currentPlayer,$("#b_"+i).remove(),$("#players").show(),$("#playeronbench").hide(),$("#gameover").show(),$("#back").hide()}function back(){$("#players").show(),$("#playeronbench").hide(),$("#gameover").show(),$("#back").hide()}function unlock(){$("#lockscreen").hide(),$("#gameover").show()}function lock(){$("#lockscreen").show(),$("#gameover").hide()}function teamComplete(){$("#players li").remove(),$("#teamcompletebutton").hide(),$("#startgame").show(),updateActiveView()}function startGame(){startTime=new Date,$("#time").show(),$("#startgame").hide();var i=new Date;for(var e in activePlayers)activePlayers[e].positions[activePlayers[e].positions.length-1].startTime=i;loopId=setInterval(updateActiveView,1e3),$("#gameover").show(),lock()}function updateActiveView(){$("#players li").remove();for(var i in activePlayers)$("#players").append('<li id="'+activePlayers[i].name+'" onClick="changePlayer(\''+activePlayers[i].name+'\')" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right ui-icon-arrow-r"><img height="44" width="30" src="img/'+players[i]+'"> '+activePlayers[i].toString()+"</a></li>");null!=startTime&&$("#time").text(getElapsedTime(startTime,new Date))}function gameOver(){$("#gameover").hide(),clearInterval(loopId),$("#players li").remove();for(var i in activePlayers){var e=activePlayers[i];e.endCurrentPosition(),$("#players").append('<li id="'+e.name+'" onClick="" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right"><b><u>'+e.name+"</u></b><br/> "+e.getStatistic()+"</a></li>")}for(var i in benchPlayers){var e=benchPlayers[i];$("#players").append('<li id="'+e.name+'" onClick="" class="ui-first-child ui-last-child"><a href="#" class="ui-btn ui-btn-icon-right"><b><u>'+e.name+"</u></b><br/> "+e.getStatistic()+"</a></li>")}$("#init").show()}function getElapsedTime(i,e){var t=e-i;t/=1e3;var n=Math.round(t%60);t=Math.floor(t/60);var r=Math.round(t%60);t=Math.floor(t/60);var s=Math.round(t%24);t=Math.floor(t/24);var a=t;return new ElapsedTime(a,s,r,n)}var players=new Object;players.Adrian="IMG_0172.jpg",players.Albin="IMG_0176.jpg",players.Christoffer="IMG_0178.jpg",players.Dante="IMG_0174.jpg",players.Dylan="IMG_0175.jpg",players.Emil="IMG_0166.jpg",players.Ivar="IMG_0169.jpg",players.Jacob="IMG_0167.jpg",players.Leo="IMG_0173.jpg",players.Linus="IMG_0166.jpg",players.Malte="IMG_0177.jpg",players.Pontus="IMG_0168.jpg",players.Samuel="IMG_0171.jpg",players.Sebastian="IMG_0166.jpg",players.Tor="IMG_0170.jpg",players.Viggo="IMG_0179.jpg",players.Viktor="IMG_0180.jpg",players["Åke"]="IMG_0166.jpg";var positions=new Object;positions.F="Forward",positions.VM="Vänster Mittfältare",positions.HM="Höger Mittfältare",positions.B="Back",positions.BENCH="Avbytarbänk";var activePlayers=new Object,benchPlayers=new Object,currentPlayer=null,loopId,startTime;$(document).ready(function($){$("#positions .cancel").on("click",function(){console.log("test"),$("#positions").hide()}),$("#lock-screen").on("click",function(){lock(),console.log("test"),$(this).toggleClass("active")})});